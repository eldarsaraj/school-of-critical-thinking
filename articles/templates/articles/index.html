{% extends "base.html" %}

{% block title %}Articles â€“ The School of Critical Thinking{% endblock %}

{% block content %}

  <section class="articles-intro">
    <h1>Articles</h1>
    <p>Long-form studies and working notes.</p>
  </section>

  <section class="cards">
    {% for a in page_obj %}
      <article class="card">
        <a
          class="card__thumb"
          href="{% url 'articles_detail' a.slug %}"
          aria-label="Read: {{ a.title }}"
        ></a>

        <div class="card__body">
          <h2 class="card__title">
            <a href="{% url 'articles_detail' a.slug %}">{{ a.title }}</a>
          </h2>

          <p class="card__meta">{{ a.author }}</p>

          {% if a.summary %}
            <p class="card__summary">{{ a.summary }}</p>
          {% else %}
            <p class="card__summary">
              <em>Summary coming soon.</em>
            </p>
          {% endif %}
        </div>
      </article>
    {% empty %}
      <p>No published articles yet.</p>
    {% endfor %}
  </section>

  <nav class="pagination" aria-label="Articles pagination">
    {% if page_obj.has_previous %}
      <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
    {% endif %}

    <span class="pagination__meta">
      Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
    </span>

    {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}">Next</a>
    {% endif %}
  </nav>

{% endblock %}