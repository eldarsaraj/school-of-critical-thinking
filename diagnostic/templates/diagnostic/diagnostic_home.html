{# templates/diagnostic/diagnostic_home.html #}
{% extends "base.html" %}

{% block title %}Thinking Diagnostic Â· Questions{% endblock %}

{% block content %}
  <h1>Thinking Diagnostic</h1>

  <form method="post" action="{% url 'diagnostic_results' %}" class="diagnostic">
    {% csrf_token %}

    {% for q in questions %}
      <fieldset class="diagnostic__q">
        <legend class="diagnostic__qid">{{ q.id }}</legend>

        <p class="diagnostic__prompt">{{ q.prompt|linebreaksbr }}</p>

        <div class="diagnostic__choices" role="radiogroup" aria-label="{{ q.id }}">
          {% for c in q.choices %}
            <label class="diagnostic__choice">
              <input
                type="radio"
                name="{{ q.id }}"
                value="{{ c.id }}"
                {% if forloop.first %}required{% endif %}
              >
              <span class="diagnostic__choice-text">
                <strong>{{ c.id }}.</strong> {{ c.text }}
              </span>
            </label>
          {% endfor %}
        </div>
      </fieldset>
    {% endfor %}

    <div class="diagnostic__action">
      <button type="submit" class="diagnostic__submit">Get Results</button>
    </div>
  </form>
{% endblock %}